<h1 class="title">Monster Manual</h1>
<p-dataTable [value]="monsters" expandableRows="true" #dt (onRowClick)="dt.toggleRow($event.data)" [rows]="15" [paginator]="true" [pageLinks]="5" [responsive]="true" [stacked]="stacked">
  <p-header>List of Star Wars Monsters/Enemies</p-header>
  <p-column field="challenge" header="CR" [sortable]="true" [filter]="true" filterMatchMode="equals" [style]="{'overflow':'visible'}">
    <ng-template pTemplate="filter" let-col>
      <p-dropdown [options]="monsterManualService.crs" [style]="{'width':'100%'}" (onChange)="dt.filter($event.value,col.field,col.filterMatchMode)" styleClass="ui-column-filter"></p-dropdown>
    </ng-template>
    <ng-template let-col let-monster="rowData" pTemplate="body">
      <span >{{ monsterManualService.GetChallenge(monster[col.field]).label }}</span>
    </ng-template>
  </p-column>
  <p-column field="name" header="Name" [sortable]="true" [filter]="true" filterPlaceholder="Search"></p-column>
  <p-column field="type" header="Type" [sortable]="true" [filter]="true" filterPlaceholder="Search">
    <ng-template let-col let-monster="rowData" pTemplate="body">
      <span >{{ monster[col.field] | capitalize }}</span>
    </ng-template>
  </p-column>
  <p-column field="size" header="Size" [sortable]="true" [filter]="true" filterMatchMode="equals" [style]="{'overflow':'visible'}">
    <ng-template pTemplate="filter" let-col>
      <p-dropdown [options]="sizeFilter" [style]="{'width':'100%'}" (onChange)="dt.filter($event.value,col.field,col.filterMatchMode)" styleClass="ui-column-filter"></p-dropdown>
    </ng-template>
    <ng-template let-col let-monster="rowData" pTemplate="body">
      <span>{{ monster[col.field] | capitalize }}</span>
    </ng-template>
  </p-column>
  <p-column field="alignment" header="Alignment" [sortable]="true" [filter]="true" filterPlaceholder="Search">
    <ng-template let-col let-monster="rowData" pTemplate="body">
      <span>{{ monster[col.field] | capitalize }}</span>
    </ng-template>
  </p-column>
  <p-column field="from" header="Monster From" [filter]="true" filterMatchMode="equals" [style]="{'overflow':'visible'}">
    <ng-template pTemplate="filter" let-col>
      <p-dropdown [options]="[{ 'label':'All', 'value':null}, { 'label':'SRD', 'value':'srd' }, { 'label':'Star Wars', 'value':'star-wars' }]" [style]="{'width':'100%'}" (onChange)="dt.filter($event.value,col.field,col.filterMatchMode)" styleClass="ui-column-filter"></p-dropdown>
    </ng-template>
    <ng-template let-col let-monster="rowData" pTemplate="body">
      <span>{{ monster[col.field] | capitalize }}</span>
    </ng-template>
  </p-column>
  <ng-template let-monster pTemplate="rowexpansion">
    <div class="ui-g ui-grid ui-grid-responsive ui-fluid" style="font-size:16px;padding:20px">
      <div class="ui-g-2"></div>
      <div class="ui-g-8">
        <monster [monster]="monster"></monster>
      </div>
    </div>
  </ng-template>
</p-dataTable>
